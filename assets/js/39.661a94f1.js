(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{391:function(t,a,e){"use strict";e.r(a);var n=e(25),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"mappa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mappa"}},[t._v("#")]),t._v(" Mappa")]),t._v(" "),e("p",[t._v("Una volta impostato la struttura base, iniziamo a lavorare con la libreria "),e("strong",[t._v("Leaflet")]),t._v(" creando l'elemento base: la "),e("strong",[t._v("MAPPA")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"creare-una-mappa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creare-una-mappa"}},[t._v("#")]),t._v(" Creare una mappa")]),t._v(" "),e("p",[t._v("Iniziamo con il creare l'oggetto (istanza) map.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" map "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("L")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'map'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    center"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("43.39706523932025")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.86822509765625")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    zoom"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v('La funzione "factory" (vedremo più tardi che cosa è) '),e("a",{attrs:{href:"https://leafletjs.com/reference-1.7.1.html#map-example",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("L.map")]),e("OutboundLink")],1),t._v(" accetta due parametri:")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Il primo può essere una "),e("strong",[t._v("Stringa")]),t._v(" contenente l'"),e("em",[t._v("id")]),t._v(" dell'elemento (come abbiamo fatto sopra) oppure un elemento HTML.")]),t._v(" "),e("p",[t._v("Nel nostro esempio abbiamo utilizzato l'"),e("em",[t._v("id")]),t._v(" dell'elemento.")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("map"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("E' stato usato id "),e("strong",[t._v("map")]),t._v(" ma può essere usato qualsiasi altro valore")])]),t._v(" "),e("li",[e("p",[t._v("Un secondo parametro (opzionale) deve essere un oggetto Javascript (chiave/valore) "),e("a",{attrs:{href:"https://leafletjs.com/reference-1.7.1.html#map-option",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("link")]),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Nell'esempio sopra abbiamo passato il valore dello "),e("strong",[t._v("zoom")]),t._v(" e il "),e("strong",[t._v("centro mappa")]),t._v(" (questo necessariamente in coordinate geografiche Latitudine/Longitudine in questo ordine)")])])]),t._v(" "),e("p",[t._v("È necessario specificare il css del contenitore per visualizzare la mappa")]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("html")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#map")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("100%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),e("p",[t._v("Ecco il risultato:")]),t._v(" "),e("esempio-mappa"),t._v(" "),e("h2",{attrs:{id:"aggiungere-il-primo-layer-osm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#aggiungere-il-primo-layer-osm"}},[t._v("#")]),t._v(" Aggiungere il primo Layer - OSM")]),t._v(" "),e("p",[t._v("Nell'esempio precedente abbiamo creato il contentiore \"mappa\" vuoto. Ora è necessario aggiungere un layer per poter visulizzare le informazioni geografiche all'interno della mappa.")]),t._v(" "),e("p",[t._v("Aggiungiamo alla mappa il layer di OpenStreetmap (OSM)")]),t._v(" "),e("esempio-osm"),t._v(" "),e("h2",{attrs:{id:"metodi-utili-dell-oggetto-mappa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metodi-utili-dell-oggetto-mappa"}},[t._v("#")]),t._v(" Metodi utili dell'oggetto mappa")]),t._v(" "),e("p",[t._v("Come si può vedere dalla "),e("a",{attrs:{href:"https://leafletjs.com/reference-1.7.1.html#map-methods-for-modifying-map-state",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("documentazione")]),e("OutboundLink")],1),t._v(", la classe "),e("strong",[t._v("L.Map")]),t._v(" possiede una serie di metodi (funzioni) che possono essere utili per interagire con la mappa che ottene informazioni utili.")]),t._v(" "),e("p",[t._v("I principali metodi sono:")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("setView")]),t._v("("),e("em",[t._v("LatLng")]),t._v(" center, "),e("em",[t._v("Number")]),t._v(" zoom, "),e("em",[t._v("Zoom/pan options")]),t._v(" options?)\t- Ritorna l'oggetto mappa")]),t._v(" "),e("p",[t._v("Serve per settare il centro e lo zoom della mappa, con possibilità di settare delle opzioni di animazione.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("setZoom")]),t._v("("),e("em",[t._v("Number")]),t._v(" zoom, "),e("em",[t._v("Zoom/pan options")]),t._v(" options?) - Ritorna\tl'oggetto mappa")]),t._v(" "),e("p",[t._v("Setta lo zoom della mappa")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("zoomIn")]),t._v("("),e("em",[t._v("Number")]),t._v(" delta?, "),e("em",[t._v("Zoom options")]),t._v(" options?) - Ritorna l'oggetto mappa")]),t._v(" "),e("p",[t._v("Incrementa lo zoom della mappa di un delta (zoomDelta by default).")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("zoomOut")]),t._v("("),e("em",[t._v("Number")]),t._v(" delta?, "),e("em",[t._v("Zoom options")]),t._v(" options?)\t- Ritorna l'oggetto mappa")]),t._v(" "),e("p",[t._v("Decrementa lo zoom della mappa di un delta (zoomDelta by default).")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("fitBounds")]),t._v("("),e("em",[t._v("LatLngBounds")]),t._v(" bounds, "),e("em",[t._v("fitBounds options")]),t._v(" options?) - Ritorna l'oggetto mappa")]),t._v(" "),e("p",[t._v("Posiziona la mappa in modo tale da contenere il Bounding Box che è stato passato.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("getCenter()")]),t._v(" - Ritorna\tl'ogetto "),e("strong",[t._v("L.LatLng")])]),t._v(" "),e("p",[t._v("Ritorna il centro della mappa")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("getZoom()")]),t._v("\t- Ritorna un intero")]),t._v(" "),e("p",[t._v("Ritorna l'attuale livello di zoom della mappa")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("getBounds()")]),t._v("- Ritorna l'ogetto "),e("strong",[t._v("L.LatLngBounds")])]),t._v(" "),e("p",[t._v("Ritorna il bound in coordinate geografiche dell'attuale mappa (utile per fare poi le richieste ad esempio di "),e("strong",[t._v("L.imageOverlay")]),t._v(" che necessita il bounds)")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("getSize()")]),t._v(" - Ritorna un oggetto "),e("strong",[t._v("L.Point")])]),t._v(" "),e("p",[t._v("Ritorna il size (larghezza e altezza in pixel) dell'elemento DOM  contenente la mappa")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("project")]),t._v("("),e("em",[t._v("LatLng")]),t._v(" latlng, "),e("em",[t._v("Number")]),t._v(" zoom) - Restituisce un "),e("strong",[t._v("L.Point")])]),t._v(" "),e("p",[t._v("Restituisce la coordinate del pixel relativa al CRS di origine.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("unproject")]),t._v("("),e("em",[t._v("Point")]),t._v(" point, "),e("em",[t._v("Number")]),t._v(" zoom) - Restituisce\tl'oggetto "),e("strong",[t._v("L.LatLng")])]),t._v(" "),e("p",[t._v("Inverso del metodo "),e("strong",[t._v("project")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("distance")]),t._v("("),e("em",[t._v("LatLng")]),t._v(" latlng1, "),e("em",[t._v("LatLng")]),t._v(" latlng2)\t- Restituisce un numero")]),t._v(" "),e("p",[t._v("Ritorna la distanza tra due punti geografici in accordo al CRS della mappa. Di default questa misura è data in metri.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("addControl")]),t._v("("),e("em",[t._v("Control")]),t._v(" control) - Restituisce la mappa")]),t._v(" "),e("p",[t._v("Aggiunge alla mappa il controllo")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("addLayer")]),t._v("("),e("em",[t._v("Layer")]),t._v(" layer) - Ritorna la mappa")]),t._v(" "),e("p",[t._v("Aggiunge il layer alla mappa")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("eachLayer")]),t._v("("),e("em",[t._v("Function")]),t._v(" fn, "),e("em",[t._v("Object")]),t._v(" context?) - Ritorna l'oggetto mappa")]),t._v(" "),e("p",[t._v("Itera su tutti i layer dalla mappa, Opzionalmento può essere passato il contesto della funzione (il this)")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  map"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eachLayer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("layer")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bindPopup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("openPopup")]),t._v("("),e("em",[t._v("Popup")]),t._v(" popup): Funzione che apre lo specifico popup passato come parametro")])])]),t._v(" "),e("p",[t._v("e molti altri ancora ..")])],1)}),[],!1,null,null,null);a.default=s.exports}}]);