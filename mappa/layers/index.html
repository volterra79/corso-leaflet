<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Layers | Corso Leaflet</title>
    <meta name="generator" content="VuePress 1.6.0">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <style src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"></style>
    <meta name="description" content="Corso Leaflet">
    <link rel="preload" href="/corso-leaflet/assets/css/0.styles.2edd0c91.css" as="style"><link rel="preload" href="/corso-leaflet/assets/js/app.e6b9243e.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/2.c1770e64.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/42.cd8f137b.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/23.18aa8555.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/31.47109cc2.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/28.54d6a044.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/20.c34ca861.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/24.757c344e.js" as="script"><link rel="preload" href="/corso-leaflet/assets/js/21.7d406cf4.js" as="script"><link rel="prefetch" href="/corso-leaflet/assets/js/10.b78d762f.js"><link rel="prefetch" href="/corso-leaflet/assets/js/11.53958c26.js"><link rel="prefetch" href="/corso-leaflet/assets/js/12.5dee1aff.js"><link rel="prefetch" href="/corso-leaflet/assets/js/13.fc3b75de.js"><link rel="prefetch" href="/corso-leaflet/assets/js/14.ede53713.js"><link rel="prefetch" href="/corso-leaflet/assets/js/15.6a8c3d00.js"><link rel="prefetch" href="/corso-leaflet/assets/js/16.d31ee72d.js"><link rel="prefetch" href="/corso-leaflet/assets/js/17.bc7c8ecc.js"><link rel="prefetch" href="/corso-leaflet/assets/js/18.9ca6eeba.js"><link rel="prefetch" href="/corso-leaflet/assets/js/19.93e56dc3.js"><link rel="prefetch" href="/corso-leaflet/assets/js/22.b35d4444.js"><link rel="prefetch" href="/corso-leaflet/assets/js/25.45fc7fd4.js"><link rel="prefetch" href="/corso-leaflet/assets/js/26.a9bea848.js"><link rel="prefetch" href="/corso-leaflet/assets/js/27.ed86e293.js"><link rel="prefetch" href="/corso-leaflet/assets/js/29.08e3ac4b.js"><link rel="prefetch" href="/corso-leaflet/assets/js/3.191b97ac.js"><link rel="prefetch" href="/corso-leaflet/assets/js/30.d0b3bf78.js"><link rel="prefetch" href="/corso-leaflet/assets/js/32.074a9353.js"><link rel="prefetch" href="/corso-leaflet/assets/js/33.dabd6185.js"><link rel="prefetch" href="/corso-leaflet/assets/js/34.ead0d5bd.js"><link rel="prefetch" href="/corso-leaflet/assets/js/35.c0cfc824.js"><link rel="prefetch" href="/corso-leaflet/assets/js/36.a68c07f9.js"><link rel="prefetch" href="/corso-leaflet/assets/js/37.d8a3c320.js"><link rel="prefetch" href="/corso-leaflet/assets/js/38.c3d2a14f.js"><link rel="prefetch" href="/corso-leaflet/assets/js/39.661a94f1.js"><link rel="prefetch" href="/corso-leaflet/assets/js/4.d12ef917.js"><link rel="prefetch" href="/corso-leaflet/assets/js/40.33390215.js"><link rel="prefetch" href="/corso-leaflet/assets/js/41.b52c1a1b.js"><link rel="prefetch" href="/corso-leaflet/assets/js/43.0990f9a1.js"><link rel="prefetch" href="/corso-leaflet/assets/js/44.e1eed1b7.js"><link rel="prefetch" href="/corso-leaflet/assets/js/45.b30657ae.js"><link rel="prefetch" href="/corso-leaflet/assets/js/46.8d63e369.js"><link rel="prefetch" href="/corso-leaflet/assets/js/47.d9d23154.js"><link rel="prefetch" href="/corso-leaflet/assets/js/48.3ad62b8d.js"><link rel="prefetch" href="/corso-leaflet/assets/js/49.a5afcb61.js"><link rel="prefetch" href="/corso-leaflet/assets/js/5.caa99417.js"><link rel="prefetch" href="/corso-leaflet/assets/js/6.a895b04a.js"><link rel="prefetch" href="/corso-leaflet/assets/js/7.125776d9.js"><link rel="prefetch" href="/corso-leaflet/assets/js/8.b0f7e812.js"><link rel="prefetch" href="/corso-leaflet/assets/js/9.8bc10e60.js">
    <link rel="stylesheet" href="/corso-leaflet/assets/css/0.styles.2edd0c91.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/corso-leaflet/" class="home-link router-link-active"><!----> <span class="site-name">Corso Leaflet</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://gis3w.it" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GIS3W
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://gis3w.it" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GIS3W
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/corso-leaflet/introduzione/" class="sidebar-link">Introduzione</a></li><li><section class="sidebar-group depth-0"><a href="/corso-leaflet/mappa/" class="sidebar-heading clickable router-link-active open"><span>Mappa</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/corso-leaflet/mappa/layers/" aria-current="page" class="active sidebar-link">Layers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#ordinamento-dei-layer-nella-mappa" class="sidebar-link">Ordinamento dei layer nella mappa</a></li><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#map-panes" class="sidebar-link">Map Panes</a></li><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#layer-raster" class="sidebar-link">Layer Raster</a></li><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#layer-vettoriali" class="sidebar-link">Layer Vettoriali</a></li><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#layer-geojson" class="sidebar-link">Layer GeoJSON</a></li><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#layer-ui" class="sidebar-link">Layer UI</a></li><li class="sidebar-sub-header"><a href="/corso-leaflet/mappa/layers/#concetto-di-layer-e-feature-in-leaflet" class="sidebar-link">Concetto di Layer e Feature in Leaflet</a></li></ul></li><li><a href="/corso-leaflet/mappa/projections/" class="sidebar-link">Proiezioni</a></li><li><a href="/corso-leaflet/mappa/controlli/" class="sidebar-link">Controlli</a></li><li><a href="/corso-leaflet/mappa/handlers/" class="sidebar-link">Handlers</a></li></ul></section></li><li><a href="/corso-leaflet/eventi/" class="sidebar-link">Eventi</a></li><li><a href="/corso-leaflet/tipibase/" class="sidebar-link">Tipi di Base</a></li><li><a href="/corso-leaflet/classibase/" class="sidebar-link">Classi di Base</a></li><li><section class="sidebar-group depth-0"><a href="/corso-leaflet/plugins/" class="sidebar-heading clickable"><span>Plugins</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/corso-leaflet/plugins/proiezioni/" class="sidebar-link">Proiezioni Personalizzate</a></li><li><a href="/corso-leaflet/plugins/getfeatureinfo/" class="sidebar-link">WMS Plugin - Single Tile e richiesta GetFeatureInfo</a></li><li><a href="/corso-leaflet/plugins/editing/" class="sidebar-link">Editing</a></li><li><a href="/corso-leaflet/plugins/wfst/" class="sidebar-link">WFS-T - Transactional Web Feature Service</a></li></ul></section></li><li><a href="/corso-leaflet/leafletvsopenlayers/" class="sidebar-link">Leaflet vs OpenLayers</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="layers"><a href="#layers" class="header-anchor">#</a> Layers</h1> <h2 id="ordinamento-dei-layer-nella-mappa"><a href="#ordinamento-dei-layer-nella-mappa" class="header-anchor">#</a> Ordinamento dei layer nella mappa</h2> <p>Come in ogni software grafico e GIS l’ordine di rappresentazione dei layer è un elemento fondamentale per la corretta visualizzazione dei loro contenuti.</p> <p>La logica è semplice:</p> <ul><li><p>le basi cartografiche di sfondo (<strong>baselayers</strong>), come ad esempio il layer OpenStreetMap, un DTM etc .. occuperanno la posizione più bassa della pila di layers</p></li> <li><p>gli strati contenenti elementi poligonali stanno al di sotto di quelli contenenti elementi lineari (<strong>overlay</strong>)</p></li> <li><p>gli strati con elementi lineari stanno al di sotto di quelli contenenti elementi puntuali (<strong>overlay</strong>)</p></li> <li><p>gli starti puntuali stanno al di sopra di ogni layer (<strong>overlay</strong>)</p></li> <li><p>elementi grafici(tooltip, etc ..) al di sopra di tutto</p></li></ul> <img src="/corso-leaflet/assets/img/layers_stack.png" title="Pila dei layer"> <h2 id="map-panes"><a href="#map-panes" class="header-anchor">#</a> Map Panes</h2> <p>Leaflet utilizza il concetto di <a href="https://leafletjs.com/reference-1.7.1.html#map-pane" target="_blank" rel="noopener noreferrer"><strong>Map Panes</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> per l'ordinamento dei layers su mappa.</p> <p><strong>Panes</strong> non sono altro che elementi DOM che sono utlizzati per gestire l'ordine &quot;piramidale&quot; o di &quot;stack&quot; degli elementi all'interno della mappa.</p> <p>E' possibile recuperare i Panes della mappa tramite i metodi <strong>map.getPane</strong> or <strong>map.getPanes</strong> oppure creare un nuovo pane tramite il metodo <strong>map.createPane</strong>.</p> <p>Leaflet segue questo ordine:</p> <ul><li><p>TileLayers e GridLayers</p></li> <li><p>Paths, polylines, GeoJSON layers, etc.. layer vettoriali</p></li> <li><p>Marker</p></li> <li><p>Popups</p></li></ul> <p><a href="https://leafletjs.com/examples/map-panes/" target="_blank" rel="noopener noreferrer"><strong>Tutorial Leaflet</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <iframe width="100%" height="500" src="//jsfiddle.net/volterra79/6h78zcgk/embedded/result,js" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0" data-v-77e2bd84></iframe> <h2 id="layer-raster"><a href="#layer-raster" class="header-anchor">#</a> Layer Raster</h2> <p>I layer Raster gestiti dal core di Leaflet sono:</p> <ul><li>Tile Layer <a href="https://leafletjs.com/reference-1.7.1.html#tilelayer" target="_blank" rel="noopener noreferrer"><strong>link</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Layer WMS <a href="https://leafletjs.com/reference-1.7.1.html#tilelayer-wms" target="_blank" rel="noopener noreferrer"><strong>link</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Image Overlay <a href="https://leafletjs.com/reference-1.7.1.html#imageoverlay" target="_blank" rel="noopener noreferrer"><strong>link</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="esempio-wms"><a href="#esempio-wms" class="header-anchor">#</a> Esempio WMS</h3> <p><iframe width="100%" height="500" src="//jsfiddle.net/volterra79/am824p9t/embedded/result,js,html" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0" data-v-79be16e0></iframe></p> <p>Se guardiamo bene come viene visualizzato il layer WMS, notiamo che invece di una singola immagine vengono richieste &quot;tile&quot; di 256px per 256px che vanno a comporre il layer WMS.</p> <p>Questo è dovuto al fatto che <strong>L.tileLayer.WMS</strong> è una sotto classe di <strong>L.tileLayer</strong> e quindi verranno effettuate n richieste di <strong>GetMap</strong> al server composte ognuna da un'immagine di 256px 256px.</p> <p>Più avanti quando andremo a parlare di Plugins, vediamo come richiedere una singola immagine invece che molte piccole immagini.</p> <h2 id="layer-vettoriali"><a href="#layer-vettoriali" class="header-anchor">#</a> Layer Vettoriali</h2> <p>In Leaflet ogni oggetto aggiunto alla mappa viene considerato un Layer (Poligoni, Linee, etc ..);</p> <p>Di seguito le diverse tipologie di geometria che un layer può avere <a href="https://leafletjs.com/reference-1.7.1.html#path" target="_blank" rel="noopener noreferrer"><strong>link</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <ul><li><p><strong>L.circle</strong> Disegna un cerchio. Deve essere passato come primo argomento il punto in mappa (latitudine, longitudine)</p></li> <li><p><strong>L.polyline</strong> Disegna una linea. Deve essere passato come primo argomento un array di coordinate geografiche</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token punctuation">[</span><span class="token punctuation">[</span>lat1<span class="token punctuation">,</span> lon1<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>lat2<span class="token punctuation">,</span> lon2<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre></div><ul><li><p><strong>L.polygon</strong> Disegna un poligono. Deve essere passato come primo argomento un array di coordinate geografiche  (possibile costruire buchi o multipoligoni)</p></li> <li><p><strong>L.rectangle</strong> Disegna un rettangolo. Deve essere passato come primo argomento un array contenete i due punti che definiscono i due punti opposti della diagonale.</p></li></ul> <p>ed altri ancora.</p> <p>Tutti i Layers sopra accettano poi un secondo parametro che permette di gestire lo stile del layer.</p> <h3 id="stili"><a href="#stili" class="header-anchor">#</a> Stili</h3> <p>La visualizzazione grafica del layer su mappa è uno degli aspetti importanti nella creazione di una mappa di facile lettura.
Leaflet, come Openlayers, utilizza una colorazione di default (di solito blu)  per visualizzare ogni tipo di layer vettoriale su mappa.</p> <p>Per poter distingure elementi di una tipologia rispetto ad un'altra o far capire l'entità di un determinato fenomeno rispetto ad un altro è necessario ricorrere ad una personalizazzione dello stile del layer.</p> <p>Come secondo argomento nella creazione del layer è possibile passare un oggetto javascript contenete varie opzioni per visualizzare il nostro layer.</p> <p>L'oggetto passatto sarà utile a costruire lo stile che non è altro a seconda del layer un'estensione della classe astratta <a href="https://leafletjs.com/reference-1.7.1.html#path" target="_blank" rel="noopener noreferrer"><strong>L.path</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <iframe width="100%" height="500" src="//jsfiddle.net/volterra79/ujemkzLb/embedded/result,js" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0" data-v-e7a64444></iframe> <p>Infine ogni <strong>Layer</strong> è un'estensione della classe base <strong>L.Path</strong> e quindi ne deriva che in ogni momento possiamo settare lo style attraverso la funzione <em>setStyle</em></p> <h2 id="layer-geojson"><a href="#layer-geojson" class="header-anchor">#</a> Layer GeoJSON</h2> <p>Un altro tipo di layer vettoriale che viene spesso utilizzato nei progetti è scuramente il tipo <a href="https://leafletjs.com/reference-1.7.1.html#geojson" target="_blank" rel="noopener noreferrer"><strong>GeoJSON</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Come primo argomento si deve passare il dato in formato <strong>GeoJSON</strong>. Come secondo argomento (opzionale) può essere passato un oggetto Javascript.</p> <p><strong>Nota</strong>: Leaflet intende i dati GeoJSON in WGS84 (latitudine, longitudine).</p> <iframe width="100%" height="500" src="//jsfiddle.net/volterra79/qrgya8m3/embedded/result,js" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0" data-v-7cf5ff54></iframe> <p>Un'interessante proprietà del layer GeoJSON è la possibilità di personalizzare lo style di ogni feature ad esempio in base alle proprietà della feature stessa.</p> <p>Passando come secondo argomento un oggetto Javascript contenente la chiave <strong>style</strong> è possibile gestire lo stile. Questa deve essere una funzione che accetta come parametro la feature del geoJSON.</p> <p>In questo modo possiamo andare a verificare la proprietà specifica della feature e ritornare l'oggetto style (vedi esempio sopra) che deve essere applicato a quel tipo di feature specifica.</p> <p>Infine da osservare che <strong>L.geoJSON</strong> accetta come primo argomento i dati in formato GeoJSON.</p> <p>Se abbiamo bisogno di recuperare i dati da un servizio è necessario fare prima la chiamata al server e poi creare il layer geoJSON</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//Esempio con JQuery</span>

$<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;orders.json&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJson</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">//parametri</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="layer-ui"><a href="#layer-ui" class="header-anchor">#</a> Layer UI</h2> <p>In Leaflet oltre ai layers standard <strong>Vettoriali</strong> e <strong>Raster</strong>, esiste una terza categoria di Layer: I <strong>Layer UI</strong> o &quot;Grafici&quot; <a href="https://leafletjs.com/reference-1.7.1.html#marker" target="_blank" rel="noopener noreferrer"><strong>link</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Sono trattati allo stesso modo degli altri layers e rientrano in questa categoria:</p> <ul><li><p><a href="https://leafletjs.com/reference-1.7.1.html#marker" target="_blank" rel="noopener noreferrer"><strong>L.marker</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> che non è altro che un layer puntuale con la caratteristica di stile del marker</p></li> <li><p><a href="https://leafletjs.com/reference-1.7.1.html#popup" target="_blank" rel="noopener noreferrer"><strong>L.popup</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> per la visualizzazione dei popup su mappa</p></li> <li><p><a href="https://leafletjs.com/reference-1.7.1.html#tooltip" target="_blank" rel="noopener noreferrer"><strong>L.tooltip</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Visualizzazione di brevi testi <strong>tooltip</strong> sui vari layer della mappa.</p></li></ul> <iframe width="100%" height="500" src="//jsfiddle.net/volterra79/q21tw7os/embedded/result,js" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0" data-v-98f5ed58></iframe> <h2 id="concetto-di-layer-e-feature-in-leaflet"><a href="#concetto-di-layer-e-feature-in-leaflet" class="header-anchor">#</a> Concetto di Layer e Feature in Leaflet</h2> <p>A differenza di Openlayers e del mondo GIS, dove esitono concetti di <strong>Layer</strong> e <strong>Feature</strong> in Leaflet esite il concetto di <strong>Layer</strong>.</p> <ul><li><p><a href="https://leafletjs.com/reference-1.7.1.html#layergroup" target="_blank" rel="noopener noreferrer"><strong>LayerGroup</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Questo permette di raggruppare più layers trattandoli come unico layer. In pratica il gruppo diventa il layer contenitore, mentre i layers saranno le features appartinenti al layer.</p></li> <li><p><a href="https://leafletjs.com/reference-1.7.1.html#featuregroup" target="_blank" rel="noopener noreferrer"><strong>FeatureGroup</strong><svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Estende il concetto di LayerGroup</p> <ul><li>il metodo <strong>bindPopup</strong> permette di associare il popup a tutti i layer in una volta invece che doverlo associare ad ogni singolo layer (lo stesso vale per il metodo bindTooltip)</li> <li>Gli <strong>Events</strong> (Eventi) sono propagati su ogni layer appartenente al FeatureGroup, così se il gruppo ha un gestore di eventi, verrà gestito per ogni layer (include anche l'evento mouse e eventi custom).</li> <li>Ha l'evento <strong>layeradd</strong> e <strong>layerremove</strong></li></ul></li></ul> <p>Esempio <strong>LayerGroup</strong> e <strong>FeatureGroup</strong></p> <iframe width="100%" height="500" src="//jsfiddle.net/volterra79/sazf8c42/embedded/result,js,css" allowfullscreen="allowfullscreen" allowpaymentrequest="" frameborder="0" data-v-45b32cb8></iframe></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/corso-leaflet/introduzione/" class="prev">
        Introduzione
      </a></span> <span class="next"><a href="/corso-leaflet/mappa/projections/">
        Proiezioni
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/corso-leaflet/assets/js/app.e6b9243e.js" defer></script><script src="/corso-leaflet/assets/js/2.c1770e64.js" defer></script><script src="/corso-leaflet/assets/js/42.cd8f137b.js" defer></script><script src="/corso-leaflet/assets/js/23.18aa8555.js" defer></script><script src="/corso-leaflet/assets/js/31.47109cc2.js" defer></script><script src="/corso-leaflet/assets/js/28.54d6a044.js" defer></script><script src="/corso-leaflet/assets/js/20.c34ca861.js" defer></script><script src="/corso-leaflet/assets/js/24.757c344e.js" defer></script><script src="/corso-leaflet/assets/js/21.7d406cf4.js" defer></script>
  </body>
</html>
